description: Compute per-detector metrics from sourceTable_visit catalogs
tasks:
  nsrcMeasDetectorTable:
    class: lsst.faro.measurement.DetectorTableMeasurementTask
    config:
      connections.package: info
      connections.metric: nsrcMeasDetectorTable
      # Reference dataset must be consistently specified 
      # in connections and reference object loader.
      # Example reference datasets include: 
      # - Gaia (gaia_dr2_20200414)
      # - PS1 (ps1_pv3_3pi_20170110)
      python: |
        from lsst.faro.base import NumSourcesTask
        config.measure.retarget(NumSourcesTask)
